times = (n, f, res) => {
    if (n > 0) {
        times(n-1, f, f(n))
    } else {
        res
    }
}

S = (a, b)
a = (x, f) => (y) => { f(x, y) }
b = (n) => {
    s = S(1, "foo" + "bar")
    r = a(1, (x, y) => { x + y + s.a })
    r(n) 
}

times(10000000, b, 0)